{{!< admin}}

<div class="admin-card">
    <h1>{{#if isNew}}إضافة مستخدم جديد{{else}}تعديل بيانات المستخدم{{/if}}</h1>
    
    <form action="/admin/users/{{#if isNew}}add{{else}}edit/{{user.id}}{{/if}}" method="POST" class="styled-form">
        <div class="form-group">
            <label for="name">الاسم الكامل</label>
            <input type="text" id="name" name="name" value="{{user.name}}" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="email">البريد الإلكتروني</label>
            <input type="email" id="email" name="email" value="{{user.email}}" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="role">الدور</label>
            <select id="role" name="role" class="form-control" required>
                <option value="student" {{#if (eq user.role 'student')}}selected{{/if}}>طالب</option>
                <option value="instructor" {{#if (eq user.role 'instructor')}}selected{{/if}}>مدرب</option>
            </select>
        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">حفظ</button>
            <a href="/admin/users" class="btn btn-secondary">إلغاء</a>
        </div>
    </form>
</div>

{{#section 'styles'}}
<style>
    .styled-form .form-group {
        margin-bottom: 1.5rem;
    }
    .form-actions {
        display: flex;
        gap: 1rem;
        justify-content: flex-end;
        margin-top: 2rem;
    }
</style>
{{/section}}