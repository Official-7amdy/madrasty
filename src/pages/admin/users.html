{{!< admin}}

<div class="admin-card">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1>إدارة المستخدمين</h1>
        <a href="/admin/users/new" class="btn btn-primary">إضافة مستخدم جديد</a>
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>الاسم</th>
                <th>البريد الإلكتروني</th>
                <th>الدور</th>
                <th>تاريخ الانضمام</th>
                <th>إجراءات</th>
            </tr>
        </thead>
        <tbody>
            {{#each users}}
            <tr>
                <td>{{this.name}}</td>
                <td>{{this.email}}</td>
                <td><span class="badge role-{{this.role}}">{{this.role}}</span></td>
                <td>{{this.joined}}</td>
                <td>
                    <a href="/admin/users/edit/{{this.id}}" class="btn btn-secondary btn-sm">تعديل</a>
                    <a href="/admin/users/delete/{{this.id}}" class="btn btn-danger btn-sm" onclick="return confirm('هل أنت متأكد من حذف هذا المستخدم؟')">حذف</a>
                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>

{{#section 'styles'}}
<style>
    .badge {
        padding: 0.25em 0.6em;
        font-size: 0.8em;
        font-weight: 600;
        border-radius: 50px;
        text-transform: capitalize;
    }
    .role-student {
        background-color: rgba(59, 130, 246, 0.1);
        color: #3b82f6;
    }
    .role-instructor {
        background-color: rgba(16, 185, 129, 0.1);
        color: #10b981;
    }
</style>
{{/section}}
